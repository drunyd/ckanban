html, body { height:100%; }
body { font-family: system-ui, Arial, sans-serif; margin:0; background:#f5f7fa; color:#222; display:flex; flex-direction:column; }
.app-header { display:flex; flex-wrap:wrap; align-items:center; gap:1rem; padding:.75rem 1rem; background:#1e293b; color:#fff; }
.app-header h1 { margin:0; font-size:1.25rem; }
.actions { display:flex; gap:.5rem; align-items:center; flex-wrap:wrap; }
.actions input { padding:.4rem .5rem; }
.actions button, .actions .import-label { background:#334155; color:#fff; border:none; padding:.45rem .75rem; cursor:pointer; border-radius:4px; font-size:.85rem; }
.actions button:hover, .actions .import-label:hover { background:#475569; }
.actions .danger { background:#7f1d1d; }
.actions .danger:hover { background:#991b1b; }
.import-label { display:inline-flex; align-items:center; }
main { padding:.75rem; flex:1; overflow:auto; }
.board-grid { display:flex; flex-direction:column; gap:1rem; }
.project-row { background:#fff; border:1px solid #d9e0e7; border-radius:6px; overflow:visible; box-shadow:0 1px 2px rgba(0,0,0,.07); }
.project-header { display:flex; align-items:center; justify-content:space-between; padding:.5rem .75rem; background:#eceff3; position:relative; }
.project-header h2 { margin:0; font-size:1rem; font-weight:600; }
.project-header .proj-actions { display:flex; gap:.35rem; align-items:center; }
.project-header button { background:#64748b; color:#fff; border:none; padding:.3rem .55rem; font-size:.7rem; border-radius:4px; cursor:pointer; }
.project-header button:hover { background:#475569; }
.project-header .project-color-btn { width:20px; height:20px; padding:0; border:2px solid #fff; border-radius:4px; box-shadow:0 0 0 1px rgba(0,0,0,.15); cursor:pointer; position:relative; }
.project-header .project-color-btn:hover { box-shadow:0 0 0 2px rgba(0,0,0,.25); }
.color-picker-wrap { position:relative; }
.color-picker-wrap .color-palette { display:none; position:absolute; top:110%; right:0; transform:translateX(-140px); background:#ffffff; padding:.4rem .45rem .45rem; border:1px solid #d9e0e7; border-radius:6px; box-shadow:0 4px 12px rgba(0,0,0,.15); width:160px; z-index:10; grid-template-columns:repeat(4,1fr); gap:.3rem; }
.color-picker-wrap.open .color-palette { display:grid; }
.color-palette .swatch { width:30px; height:24px; border:none; border-radius:4px; cursor:pointer; position:relative; }
.color-palette .swatch.selected { outline:3px solid #fff; box-shadow:0 0 0 2px #0f172a; }
.color-palette .swatch:hover { filter:brightness(1.1); }
.columns { display:grid; grid-template-columns: repeat(5, 1fr); gap:.75rem; padding:.75rem; }
.status-col { display:flex; flex-direction:column; background:#fff; border:1px solid #e0e0e0; border-radius:8px; min-height:180px; box-shadow:0 1px 3px rgba(0,0,0,.12); }
.status-header { font-size:.7rem; letter-spacing:.5px; font-weight:600; padding:.4rem .6rem; background:#f1f3f4; border-bottom:1px solid #e0e0e0; text-transform:uppercase; color:#5f6368; display:flex; align-items:center; gap:.4rem; }
.card-list { list-style:none; margin:0; padding:.5rem; flex:1; display:flex; flex-direction:column; gap:.4rem; }
.card { background:#fff; border:1px solid #dadce0; border-radius:8px; padding:.35rem .5rem; font-size:.72rem; line-height:1.15; display:flex; justify-content:space-between; align-items:flex-start; gap:.4rem; box-shadow:0 1px 2px rgba(0,0,0,.1); }
.card.dragging { opacity:.5; }
.card-title { flex:1; font-weight:500; }
.card-actions { display:flex; gap:.25rem; }
.card-actions button { background:#94a3b8; border:none; color:#fff; font-size:.65rem; padding:.25rem .4rem; border-radius:3px; cursor:pointer; }
.card-actions button:hover { background:#64748b; }
.icon-btn.add-icon { margin:0 0 0 .25rem; width:auto; height:auto; line-height:1; font-size:.75rem; background:none; border:none; padding:0 .25rem; border-radius:0; box-shadow:none; color:var(--accent,#1a73e8); cursor:pointer; }
.icon-btn.add-icon:hover { color: var(--accent-hover,#1558b0); text-decoration:underline; }
.empty-msg { font-size:.65rem; color:#64748b; }
.app-footer { padding:.5rem .75rem; text-align:center; font-size:.65rem; color:#475569; }
::-webkit-scrollbar { width:8px; height:8px; }
::-webkit-scrollbar-thumb { background:#cbd5e1; border-radius:4px; }
.status-col.drag-over { outline:2px dashed #2563eb; outline-offset:-2px; }
.project-row.removing { opacity:.5; }

/* --- Material-ish colorful enhancements --- */
.status-col { border-top:3px solid var(--accent,#64748b); }
.status-header .status-title { flex:1; }

/* Per-status palette variables */
.status-col.status-links { --accent:#6366f1; --accent-hover:#4f46e5; --header-bg:#eef2ff; --header-fg:#3730a3; --card-border:#c7d2fe; }
.status-col.status-backlog { --accent:#3b82f6; --accent-hover:#2563eb; --header-bg:#eff6ff; --header-fg:#1e3a8a; --card-border:#bfdbfe; }
.status-col.status-inProgress { --accent:#f59e0b; --accent-hover:#d97706; --header-bg:#fef3c7; --header-fg:#92400e; --card-border:#fcd34d; }
.status-col.status-onHold { --accent:#8b5cf6; --accent-hover:#7c3aed; --header-bg:#f5f3ff; --header-fg:#5b21b6; --card-border:#ddd6fe; }
.status-col.status-complete { --accent:#10b981; --accent-hover:#059669; --header-bg:#ecfdf5; --header-fg:#065f46; --card-border:#a7f3d0; }

.status-col .status-header { background: var(--header-bg,#f1f3f4); color: var(--header-fg,#5f6368); }

/* Card accent stripe & border color */
.status-col .card { border-left:3px solid var(--accent,#64748b); border-color: var(--card-border,#dadce0); }
.status-col .link-card { border-style:dashed; }
.link-card { background:#f8fafc; padding:.25rem .4rem; font-size:.68rem; line-height:1.05; gap:.3rem; border-radius:6px; }
.link-card.link-git { background:#e0f2fe; }
.link-card.link-jira { background:#fef3c7; }
.link-card.link-jenkins { background:#e9f5e9; }
.link-card.link-verstas { background:#f3e8ff; }
.link-card .card-actions { gap:.15rem; }
.link-card .card-actions button { font-size:.5rem; padding:.12rem .2rem; }
.link-card a { text-decoration:none; color:#1d4ed8; display:block; max-width:100%; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.link-card a:hover { text-decoration:underline; }

/* Bookmarks Panel */
.bookmarks-panel { background:#ffffff; border-bottom:1px solid #d9e0e7; box-shadow:0 2px 4px rgba(0,0,0,.08); overflow:hidden; max-height:0; transition:max-height .3s ease; }
.bookmarks-panel.open { /* max-height adjusted inline via JS for smooth animation */ }
.bookmarks-toolbar { display:flex; align-items:center; gap:.5rem; padding:.5rem .75rem; background:#f8fafc; border-bottom:1px solid #e2e8f0; font-size:.75rem; }
.bookmarks-toolbar button { background:#2563eb; color:#fff; border:none; padding:.35rem .6rem; border-radius:4px; font-size:.65rem; cursor:pointer; }
.bookmarks-toolbar button:hover { background:#1d4ed8; }
.bookmarks-grid { list-style:none; margin:0; padding:.6rem .75rem 1rem; display:grid; grid-template-columns:repeat(auto-fill,minmax(140px,1fr)); gap:.5rem; }
.bookmark { background:#f1f5f9; border:1px solid #e2e8f0; border-radius:6px; padding:.4rem .45rem .5rem; font-size:.65rem; position:relative; display:flex; flex-direction:column; gap:.25rem; }
.bookmark a { color:#1d4ed8; text-decoration:none; word-break:break-word; }
.bookmark a:hover { text-decoration:underline; }
.bookmark button.delete { position:absolute; top:2px; right:4px; background:none; border:none; color:#64748b; font-size:.7rem; cursor:pointer; padding:0; }
 .bookmark button.delete:hover { color:#dc2626; }

/* Project reorder visuals */
.project-row.project-dragging { opacity:.6; }
.project-row.drop-before { box-shadow:0 -4px 0 0 #2563eb inset; }
.project-row.drop-after { box-shadow:0 4px 0 0 #2563eb inset; }
.project-header { cursor:grab; }
.project-header:active { cursor:grabbing; }

/* Collapsible Projects */
.project-row.collapsed .columns { display:none; }
.project-row.collapsed .project-header { border-bottom:none; }
.project-header button.collapse-toggle { font-size:.9rem; padding:.25rem .45rem; }
.project-row.collapsed .project-notes { display:none; }

/* Project Notes Section */
.project-notes { margin:0 .75rem .75rem; border:1px solid #d9e0e7; background:#fafafa; border-radius:6px; padding:.55rem .6rem .6rem; font-size:.7rem; line-height:1.3; display:flex; flex-direction:column; gap:.4rem; box-shadow:0 1px 2px rgba(0,0,0,.06); }
.project-notes .notes-header { display:flex; align-items:center; justify-content:space-between; font-weight:600; font-size:.65rem; letter-spacing:.4px; text-transform:uppercase; color:#475569; }
.project-notes .notes-actions button { background:#64748b; color:#fff; border:none; padding:.25rem .5rem; font-size:.6rem; border-radius:4px; cursor:pointer; }
.project-notes .notes-actions button:hover { background:#475569; }
.project-notes .notes-view { white-space:pre-wrap; font-size:.65rem; }
.project-notes textarea.notes-textarea { width:100%; resize:vertical; min-height:110px; font:.65rem/1.25 system-ui, Arial, sans-serif; padding:.4rem .45rem; border:1px solid #cbd5e1; border-radius:4px; background:#fff; }
.project-notes .notes-buttons { display:flex; gap:.4rem; align-items:center; }
.project-notes .notes-buttons button { background:#2563eb; color:#fff; border:none; padding:.3rem .55rem; font-size:.6rem; border-radius:4px; cursor:pointer; }
.project-notes .notes-buttons button:hover { background:#1d4ed8; }
.project-notes .notes-status { font-size:.55rem; color:#dc2626; }
 .project-notes .notes-meta { font-size:.55rem; color:#64748b; }

/* Project name inline edit */
.project-title { display:flex; align-items:center; gap:.5rem; }
.project-name-edit { display:flex; align-items:center; gap:.3rem; }
.project-name-input { font-size:.75rem; padding:.25rem .4rem; border:1px solid #cbd5e1; border-radius:4px; min-width:140px; }
.project-name-save-btn, .project-name-cancel-btn { background:#2563eb; color:#fff; border:none; padding:.25rem .5rem; font-size:.6rem; border-radius:4px; cursor:pointer; }
.project-name-save-btn:hover, .project-name-cancel-btn:hover { background:#1d4ed8; }

/* Quick Bookmarks Modal */
.quick-bm-modal { position:fixed; inset:0; display:flex; align-items:flex-start; justify-content:center; padding:6vh 1rem 2rem; background:rgba(30,41,59,.55); backdrop-filter:blur(4px); z-index:100; opacity:0; pointer-events:none; transition:opacity .18s ease; }
.quick-bm-modal.open { opacity:1; pointer-events:auto; }
.quick-bm-modal .qb-inner { width:100%; max-width:640px; background:#ffffff; border:1px solid #cbd5e1; border-radius:10px; box-shadow:0 8px 32px rgba(0,0,0,.28); padding:.85rem .9rem 1rem; display:flex; flex-direction:column; gap:.6rem; }
#quickBookmarksInput { font-size:.9rem; padding:.55rem .65rem; border:1px solid #94a3b8; border-radius:6px; outline:none; width:100%; box-shadow:0 1px 2px rgba(0,0,0,.06); }
#quickBookmarksInput:focus { border-color:#2563eb; box-shadow:0 0 0 3px rgba(37,99,235,.25); }
.qb-results { list-style:none; margin:0; padding:0; max-height:50vh; overflow:auto; border:1px solid #e2e8f0; border-radius:6px; background:#f8fafc; display:flex; flex-direction:column; }
.qb-results li { padding:.45rem .65rem; font-size:.75rem; line-height:1.1; display:flex; align-items:center; gap:.5rem; cursor:pointer; }
.qb-results li:hover { background:#e2e8f0; }
.qb-results li.active { background:#2563eb; color:#fff; }
.qb-results li small { opacity:.7; font-size:.6rem; }
.qb-hint { font-size:.6rem; color:#64748b; text-align:right; }
.qb-empty { padding:.6rem .75rem; font-size:.7rem; color:#64748b; }
